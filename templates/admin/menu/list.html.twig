<h1 class="menu-header">
    Liste des menus
    <button class="filter-toggle" data-type="menu" data-url="{{ path('admin_menu_list') }}">
        <img src="{{ asset('Visuels/Icônes/Filter_DarkBrown.png') }}" alt="Filtrer">
    </button>
</h1>

<button class="ajax-btn add-menu" 
        data-url="{{ path('admin_menu_new') }}" 
        data-default="false">
    <img src="{{ asset('Visuels/Icônes/Plus_Beige.png') }}" alt="Créer un menu">
    Créer un menu
</button>

<div class="filter-panel" data-type="menu">
    <button class="close-panel">
        <img src="{{ asset('Visuels/Icônes/Croix_DarkBrown.png') }}" alt="Fermer">
    </button>

    <div class="filter-group">
        <label for="theme-filter">Filtrer par thème</label>
        <select id="theme-filter" name="theme">
            <option value="">Tous</option>
            {% for theme in themes %}
                <option value="{{ theme.id }}" {% if app.request.query.get('theme') == theme.id %}selected{% endif %}>
                    {{ theme.libelle }}
                </option>
            {% endfor %}
        </select>
    </div>

    <div class="filter-group">
        <label for="regime-filter">Filtrer par régime</label>
        <select id="regime-filter" name="regime">
            <option value="">Tous</option>
            {% for regime in regimes %}
                <option value="{{ regime.id }}" {% if app.request.query.get('regime') == regime.id %}selected{% endif %}>
                    {{ regime.libelle }}
                </option>
            {% endfor %}
        </select>
    </div>

    <div class="filter-group">
        <label for="keyword-filter">Nom du menu</label>
        <input type="text" id="keyword-filter" name="keyword" placeholder="Rechercher..." value="{{ app.request.query.get('keyword') }}">
    </div>

    <button type="button" class="apply-filters">Appliquer</button>
    <button type="button" class="reset-filters">Réinitialiser les filtres</button>
</div>

<table class="menu-table">
    <thead>
        <tr>
            <th>Nom</th>
            <th>Prix</th>
            <th>Thème</th>
            <th>Régime</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% if menus is not empty %}
            {% for menu in menus %}
                <tr>
                    <td>{{ menu.nom }}</td>
                    <td>{{ menu.prixParPersonne }} €</td></d>
                    <td>{{ menu.theme.libelle }}</td>
                    <td>{{ menu.regime.libelle }}</td>
                    <td class="action-buttons">
                        <button class="ajax-btn btn-see" data-url="{{ path('admin_menu_show', {'id': menu.id}) }}">
                            <img src="{{ asset('Visuels/Icônes/See_Beige.png')}}">
                            Voir &amp; modifier
                        </button>
                    </td>
                </tr>
            {% endfor %}
        {% else %}
            <tr><td colspan="4">Aucun menu trouvé.</td></tr>
        {% endif %}
    </tbody>
</table>